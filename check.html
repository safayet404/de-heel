<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="carousel.css">
</head>

<body>
  <div class="container">
    <div class="carousel">
      <div class="item a ">
        –ê
      </div>
      <div class="item b ">B</div>
      <div class="item c ">C</div>
      <div class="item d">D</div>
      <div class="item e ">E</div>
      <div class="item f ">F</div>
    </div>
  </div>
  <div class="c_next">Next</div>
  <div class="c_prev">Prev</div>
  <div class="dots">

  </div>

  <script>
  var carousel = document.querySelector(".carousel");
    var currdeg = 0;
    
    // Add event listeners for buttons
    document.querySelector(".c_next").addEventListener("click", function () {
      rotate("n");
    });
    document.querySelector(".c_prev").addEventListener("click", function () {
      rotate("p");
    });
    
    // Initialize the carousel
    function init() {
      var items = document.querySelectorAll(".item");
      items[0].classList.add("current");
      items[items.length - 1].classList.add("prev");
      items[0].nextElementSibling.classList.add("next");
    
      var dotsContainer = document.querySelector(".dots");
      items.forEach((_, i) => {
        var dot = document.createElement("div");
        dot.className = i === 0 ? "dot active" : "dot";
        dotsContainer.appendChild(dot);
      });
    }
    
    // Rotate function
    function rotate(direction) {
      var items = document.querySelectorAll(".item");
      var current = document.querySelector(".item.current");
      var prev = document.querySelector(".item.prev");
      var next = document.querySelector(".item.next");
    
      if (prev) prev.classList.remove("prev");
      if (next) next.classList.remove("next");
    
      if (direction === "n") {
        var newCurrent = current.nextElementSibling || items[0];
        current.classList.remove("current");
        newCurrent.classList.add("current");
    
        var newNext = newCurrent.nextElementSibling || items[0];
        var newPrev = newCurrent.previousElementSibling || items[items.length - 1];
    
        newNext.classList.add("next");
        newPrev.classList.add("prev");
      }
    
      if (direction === "p") {
        var newCurrent = current.previousElementSibling || items[items.length - 1];
        current.classList.remove("current");
        newCurrent.classList.add("current");
    
        var newNext = newCurrent.nextElementSibling || items[0];
        var newPrev = newCurrent.previousElementSibling || items[items.length - 1];
    
        newNext.classList.add("next");
        newPrev.classList.add("prev");
      }
    }
    
    init();
    </script>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
 
  <!-- <script>


    /*---------------*/
    var carousel = $(".carousel"),
      currdeg = 0,
      items = 0;

    // var currentDrag = undefined;

    $(".c_next").on("click", { d: "n" }, rotate);
    $(".c_prev").on("click", { d: "p" }, rotate);
    // $('.item').on('drag', function(e) {
    //   console.log(e);
    //  })
    // $('.item').on('mauseup', function(e) {
    //     currentDrag = undefined;
    //   comsole.log('end drag')
    //  })

    function init() {
      items = carousel.find('.item').length;
      carousel.find('.item:first').addClass('current');
      carousel.find('.item:last').addClass('prev');
      carousel.find('.item.current').next().addClass('next');

      for (let i = 0; i < items; i++) {
        let dot = $('<div>');
        let className = 'dot';
        if (i == 0) {
          className += ' active';
        }
        dot.addClass(className);
        $('.dots').append(dot);

      }
    }

    function rotate(e) {
      items = 3;

      $('.item.prev').removeClass('prev')/*.css({'transform': ''})*/;
      $('.item.next').removeClass('next')/*.css({'transform': ''})*/;
      if (e.data.d == "n") {
        if ($(".item.current").next().length) {
          $(".item.current")
            .removeClass('current')
            .next()
            .addClass('current');

          $('.dot.active')
            .removeClass('active')
            .next()
            .addClass('active');
        } else {
          $(".item.current")
            .removeClass('current')
            .addClass('prev')
            .parent()
            .find('.item:first')
            .addClass('current');

          $('.dot.active')
            .removeClass('active')
            .parent()
            .find('.dot:first')
            .addClass('active');
        }

        carousel.removeClass('prev-move').addClass('next-move');
        currdeg = (currdeg - 60) /*% 360*/;
      }

      if (e.data.d == "p") {
        if ($(".item.current").prev().length) {
          $(".item.current")
            .removeClass('current')
            .prev()
            .addClass('current');

          $(".dot.active")
            .removeClass('active')
            .prev()
            .addClass('active');
        } else {
          $(".item.current")
            .removeClass('current')
            .addClass('next')
            .parent()
            .find('.item:last')
            .addClass('current');

          $(".dot.active")
            .removeClass('active')
            .parent()
            .find('.dot:last')
            .addClass('active');
        }

        carousel.removeClass('next-move').addClass('prev-move');
        currdeg = (currdeg + 60) /*% 360*/;
      }
      if ($(".item.current").prev().length) {
        $(".item.current").prev().addClass('prev');
      } else {
        $(".item.current")
          .parent()
          .find('.item:last')
          .addClass('prev');
      }

      if ($(".item.current").next().length) {
        $(".item.current").next().addClass('next');
      } else {
        $(".item.current")
          .parent()
          .find('.item:first')
          .addClass('next');
      }


    }

    init();

    var hammertime = new Hammer($(".container")[0]);
    hammertime.on('swipeleft', function (ev) {
      console.log(ev);
      $('.c_next').trigger('click')
    });
    hammertime.on('swiperight', function (ev) {
      console.log(ev);
      $('.c_prev').trigger('click')
    });
  </script> -->
</body>

</html>